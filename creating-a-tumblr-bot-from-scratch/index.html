<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>doomy</title>
    <meta name="description" content="How to build your very own Tumblr bot using nothing but your ingenuity and some Ruby gems">

    
    

    
<meta property="og:title" content="Creating a Tumblr Bot from Scratch">
<meta property="og:description" content="How to build your very own Tumblr bot using nothing but your ingenuity and some Ruby gems">
<meta property="og:url" content="https:&#x2F;&#x2F;doomy.org&#x2F;creating-a-tumblr-bot-from-scratch&#x2F;">
<meta property="og:type" content="article">
<meta property="og:site_name" content="doomy">



    <!-- css -->
    <noscript>
        <style>
            .theme-switcher {
                display: none;
            }
        </style>
    </noscript>
    <link rel="stylesheet" href="/reset.css">
    <link rel="stylesheet" href="/feather.css">
    
    
    <link rel="stylesheet" href="/syntax-theme-light.css" media="screen" />
    <link rel="stylesheet" href="/syntax-theme-dark.css" media="screen and (prefers-color-scheme: dark)" />
    
    

    <link rel="stylesheet" id="syntax" />

    
    <script data-goatcounter=https://doomy-org.goatcounter.com/count async src="//gc.zgo.at/count.js"></script>
    

    
    <script></script>
    

    
    
</head>

<body >
    <div class="root">

        <nav>
            <div class="flex padded">
                <div class="flex fill vcenter">
                    <a href="/">
                        <h4>doomy</h4>
                    </a>
                </div>
                
                <button class="theme-switcher"></button>
                
            </div>
            
            <div class='header-image' style='background-image: url(/theme_images/default.gif);'>
            </div>
            
        </nav>



        
<div class='container'>
	<section class="post">
		<div class="title-and-info">
			<h2>Creating a Tumblr Bot from Scratch</h2>
			<div class="info">
				<span>2016 Jul 22</span>

				
                    <span class='divider' />
                    <a href="https:&#x2F;&#x2F;mastodon.social&#x2F;@doomy" target="_blank">@doomy@mastodon.social</a>
				

				
			</div>
		</div>
		<article>
			
			
			
			

			


			<p>Today I'm gonna show how to make the basis for a bot like my own <a rel="noopener" target="_blank" href="http://bot.doomy.me/">doomybot</a>.  It's actually pretty easy!</p>
<h3 id="project-outline">Project Outline</h3>
<p>This is the kind of quality output we can expect from the bot we are creating today -</p>
 <div class="tumblr-post" data-href="https://embed.tumblr.com/embed/post/p0Y_HvspfCAUfl2VaRTZ2Q/147783220089" data-did="da39a3ee5e6b4b0d3255bfef95601890afd80709"><a href="http://doomybottest.tumblr.com/post/147783220089/neutral-good-doctor-muffin">http://doomybottest.tumblr.com/post/147783220089/neutral-good-doctor-muffin</a></div>  <script async src="https://secure.assets.tumblr.com/post.js"></script>
<p>This set of tutorials will be broken up into several different components.  In this one, We'll get up-and-running with the Tumblr API and make a very simple bot that posts random sentences.  In the future, we'll outline how to answer asks, reblog posts, and do more advanced robot-like things.</p>
<p>Programming is a super-broad topic that I can't really cover in one tutorial, so if you're interested in learning more Ruby, a great place to start is <a rel="noopener" target="_blank" href="http://codecademy.com">Codecademy</a>.  In order to fully understand everything we're doing, a little programming knowledge is helpful.  However, if you're completely new to all of this, you should be able to follow along just fine anyways.</p>
<h3 id="setting-up">Setting Up</h3>
<p>We need a couple things to start with.  Setting up will be slightly different depending on whether you're on a Mac/*nix system or Windows.  I greatly prefer *nix systems for this sort of stuff to Windows, but it can be done.</p>
<h3 id="installing-ruby">Installing Ruby</h3>
<p>The first thing we need to do is install Ruby, the programming language we will use.</p>
<h6 id="on-macs">On Macs:</h6>
<p>Follow the guide <a rel="noopener" target="_blank" href="http://usabilityetc.com/articles/ruby-on-mac-os-x-with-rvm/">here</a>.  I don't own a Mac, so this isn't tested!  But it should work.  Basically, we're installing RVM and then Ruby.</p>
<h6 id="on-unix-linux-systems">On Unix / Linux Systems</h6>
<p>On Linux and Unix systems, these commands can change based on your distribution.  But generally, you can follow <a rel="noopener" target="_blank" href="https://rvm.io/">this guide</a> on the RVM site.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gpg</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>keyserver</span> hkp://keys.gnupg.net<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>recv-keys</span> 409B6B1796C275462A1703113804BB82D39DC0E3</span>
</span><span class="z-source z-shell z-bash"><span class="z-constant z-character z-escape z-shell">\c</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">url</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>sSL</span> https://get.rvm.io</span> <span class="z-keyword z-operator z-logical z-pipe z-shell">|</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">bash</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>s</span> stable</span>
</span></code></pre>
<p>Once you've installed RVM, get a new shell and type in <code>rvm install ruby</code>.  If all goes well, you will be a proud owner of the Ruby language.</p>
<h3 id="on-windows">On Windows</h3>
<p>Windows kind of sucks for Ruby, okay?  It's great for .NET stuff, and pretty good at Python, but Ruby on Windows has some problems.  My recommendation is to install <a rel="noopener" target="_blank" href="https://www.virtualbox.org/wiki/Downloads">Virtualbox</a> for Windows, and then install a distribution of Linux like <a rel="noopener" target="_blank" href="http://www.ubuntu.com/desktop">Ubuntu</a> onto Virtualbox.  After that, follow the steps for Unix / Linux Systems above.</p>
<p>Because it's not reasonable to ask beginners to learn a whole new operating system, a Windows option still exists if you're persistent!  <a rel="noopener" target="_blank" href="http://rubyinstaller.org/">RubyInstaller for Windows</a> will package everything up nicely for you.  Select to install <code>Ruby 2.3.1</code>.  Note that you'll also need to install the <a rel="noopener" target="_blank" href="http://rubyinstaller.org/add-ons/devkit/">DevKit</a>.  I also will not cover Windows-specific examples below - for instance, the <code>cd</code> command line tool is equivalent to <code>dir</code> in Windows, so not everything will work copy-and-pasted.</p>
<p>When the installer asks where you'd like to install Ruby, make sure you check <code>Add Ruby executables to your PATH</code>.</p>
<h3 id="setting-up-our-environment">Setting Up our Environment</h3>
<p>We need to install a couple more things to get up and running.  Open up a new console window (Terminal in Mac and Command Prompt in Windows).  Type the following.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">gem</span> install bundle</span>
</span></code></pre>
<p><code>bundle</code> is our package manager.  It will keep track of all the software stuff we need in our project.</p>
<p>Lets also create a folder to store our project.  This can be anywhere, and can be named anything (although it's helpful to avoid spaces and special characters) -</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">mkdir</span></span><span class="z-meta z-function-call z-arguments z-shell"> tumblr_bot</span>
</span></code></pre>
<p>We also will need a text editor to write everything with.  If you have one you prefer, use it!  (I like vim), but if you're unsure, I recommend using <a rel="noopener" target="_blank" href="https://code.visualstudio.com/">Visual Studio Code</a>.  It's pretty good and runs on almost anything.</p>
<h3 id="getting-started">Getting started</h3>
<p>Create a few new folders in your project directory.  They will be titled <code>bin</code> and <code>lib</code>.  Also, create a new file called <code>Gemfile</code> in your project root.</p>
<ul>
<li><strong>bin</strong>: this is where we'll store the stuff that actually runs our bot.</li>
<li><strong>lib</strong>: this is where we'll store all the code.</li>
<li><strong>Gemfile</strong>: this is where we'll store everything we'll need for the <code>bundle</code> command to work.  It keeps a list of what software packages our project needs to run.  This file is especially vital if we want to share our program with other people.  Note that <code>Gemfile</code> has NO file extension.  It's just <code>Gemfile</code>!, not <code>Gemfile.txt</code>.</li>
</ul>
<p>Your folder structure should look something like this.</p>
<p><img src="https://doomy.org/creating-a-tumblr-bot-from-scratch/DUea7NG.jpg" alt="" /></p>
<p>Lets open our <code>lib</code> folder and add a new file named whatever the root folder is called.  My root folder is named <code>tumblr_bot</code>, so I'm going to add a new file called <code>tumblr_bot.rb</code>.  The <code>.rb</code> extension lets us know this is a Ruby file.</p>
<blockquote>
<p>Note: it doesn't really matter what this file is called, but I'm sticking to a convention often used in the creation of Ruby packages.  This will make your life easier down the line if you decide to author more Ruby projects.</p>
</blockquote>
<h3 id="creating-the-base-of-our-project">Creating the base of our project</h3>
<p>Let's open up <code>tumblr_bot.rb</code> in the text editor of our choice.  In this file, we're going to put the following -</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-support z-function z-builtin z-ruby">puts</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>jello world<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span></code></pre>
<p>And that's it for now.  Lets run it!  Go back to your root directory, and run the following:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ruby</span></span><span class="z-meta z-function-call z-arguments z-shell"> ./lib/tumblr_bot.rb</span>
</span></code></pre>
<p>If all goes well, we should receive this output:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">jello</span></span><span class="z-meta z-function-call z-arguments z-shell"> world</span>
</span></code></pre>
<p><code>puts</code>, or Put String, is the way to echo stuff to the console in Ruby.</p>
<h3 id="setting-up-our-tumblr-account">Setting up our Tumblr Account</h3>
<p>First, lets create a new sub-blog.  This is easy enough from the Tumblr dashboard.  Name it anything you like, but remember the name.  You can also use your main blog, but some people might get confused if they get a pile of gibberish all over their dashboards.  Or that might just be normal.  Who knows.</p>
<p>In order to use your Tumblr account with custom code, you'll need to obtain an API key.  Log into Tumblr, and visit <a rel="noopener" target="_blank" href="https://www.tumblr.com/oauth/apps">this link</a>.  Click "Register Application".</p>
<p>You only need to fill out a few fields.</p>
<p><strong>Application Name:</strong> Whatever you want!  Name it something more creative than "TestBot".</p>
<p><strong>Application Website:</strong> If you're not a member of the elite few to own a website yet, you can just use your Tumblr blog URL.</p>
<p><strong>Application Description:</strong> Again, whatever you want.</p>
<p><strong>Administrative contact email:</strong> You should make this something you actually use just in case Tumblr needs to notify you about something.</p>
<p><strong>Default callback URL:</strong> We won't be using this parameter for our application, but it's still required.  You can put any valid URI here.</p>
<p><img src="https://doomy.org/creating-a-tumblr-bot-from-scratch/qNL6Ova.jpg" alt="" /></p>
<p>And that's it!  Submit the form, and you'll have a new thing.  Find your new app, and click the <code>Show OAuth Consumer Secret</code>.  It should look like this except with a bunch of random characters instead of <code>xxxxx</code>.</p>
<p><img src="https://doomy.org/creating-a-tumblr-bot-from-scratch/Xi2fFbM.jpg" alt="" /></p>
<p>We have to do one more thing before we're ready to roll.  Visit the <a rel="noopener" target="_blank" href="https://api.tumblr.com/console/calls/user/info">Tumblr API Console</a> with your Consumer Key and Consumer Secret on hand.  Input them into their respective input boxes, and hit "Authenticate".</p>
<blockquote>
<p>Note: This content is super-sensitive.  Treat it like you would a password.</p>
</blockquote>
<p>After you give access, you should be presented with a page that looks like this:</p>
<p><img src="https://doomy.org/creating-a-tumblr-bot-from-scratch/E0iLOnq.jpg" alt="" /></p>
<p>Navigate to the tab that conveniently says <code>Ruby</code>!</p>
<p>Copy this entire code section into your clipboard.</p>
<h3 id="adding-tumblr-to-our-app">Adding Tumblr to our App</h3>
<p>With the code in our clipboard, lets move back to our <code>tumblr_bot.rb</code> file.  We can delete everything we added to this file before, and replace it with the code we just got from Tumblr.  Our <code>tumblr_bot.rb</code> file should now look like this:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Authenticate via OAuth
</span></span><span class="z-source z-ruby">client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby"><span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Make the request
</span></span><span class="z-source z-ruby">client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>info 
</span></code></pre>
<p>Great!  Lets try and run it.  We'll do the same thing as last time; navigate to our root directory, open a console, and type in the following command.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ruby</span></span><span class="z-meta z-function-call z-arguments z-shell"> ./lib/tumblr_bot.rb</span>
</span></code></pre>
<p>If all goes to plan, we should get an error!  Woo.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">lib/tumblr_bot.rb:2:in</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-command z-backticks z-shell"><span class="z-punctuation z-section z-group z-begin z-shell">`</span><span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>main<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>: uninitialized constant Tumblr (NameError)
</span></span></span></span></code></pre>
<p>This is because we need the official Tumblr Ruby package.  Remember when we created our <code>Gemfile</code> and installed <code>bundle</code>?  We're about to use both these tools.</p>
<p>Open up your <code>Gemfile</code> and add the following lines:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">source <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>https://rubygems.org<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">gem</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span></code></pre>
<p>Save the file, and get back to the terminal opened up in your root directory.  Lets type this behemoth of a command:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">bundle</span></span>
</span></code></pre>
<p>Bundle is the package we installed earlier.  It looks through our <code>Gemfile</code> file and adds any necessary packages to our system.  This could take a minute or two to complete.</p>
<p>We now have the Tumblr Ruby package installed on our system, but we have to specifically tell our file that we need to use it.  Open up <code>tumblr_bot.rb</code> again, and add the following line to the top of the file:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span></code></pre>
<p>We also need to modify the last line.  Change it from this</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>info
</span></code></pre>
<p>to this</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-support z-function z-builtin z-ruby">puts</span> client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>info
</span></code></pre>
<p>If you remember from before, <code>puts</code> will output our item to a string we can read.  Without the <code>puts</code> statement, the line would execute silently.</p>
<p>Your entire <code>tumblr_bot.rb</code> should look like this now:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Authenticate via OAuth
</span></span><span class="z-source z-ruby">client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby"><span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Make the request
</span></span><span class="z-source z-ruby"><span class="z-support z-function z-builtin z-ruby">puts</span> client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>info 
</span></code></pre>
<blockquote>
<p>Tip: when a line is preceded by the <code>#</code> symbol, the line is a comment, meaning that code is not executed.  You can use this to write yourself little notes.</p>
</blockquote>
<p>Lets get back to our root console, and type the following command yet again:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ruby</span></span><span class="z-meta z-function-call z-arguments z-shell"> ./lib/tumblr_bot.rb</span>
</span></code></pre>
<p>Andddddd..... We should get a response!  A response with a bunch of weird characters and symbols, but some readable text.  If you do some reading, you should see some stuff that looks familiar.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-punctuation z-section z-scope z-ruby">{</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>user<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-punctuation z-section z-scope z-ruby">{</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>name<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>doomy<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>likes<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-ruby">36042</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>following<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-ruby">464</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>default_post_format<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>html<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>blogs<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-punctuation z-section z-scope z-ruby">{</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>title<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>meme machine<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>name<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>doomy<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>total_posts<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-ruby">43367</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>posts<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-ruby">43367</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>url<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>http://doomy.me/<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>updated<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-ruby">1469145521</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>description<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>hi im alexander<span class="z-constant z-character z-escape z-ruby">\n</span>I made doomybot<span class="z-constant z-character z-escape z-ruby">\n</span>19 /  design student / developer / composer / certified funnyman / and more <span class="z-constant z-character z-escape z-ruby">\n</span>ask<span class="z-constant z-character z-escape z-ruby">\n</span>my music tag<span class="z-constant z-character z-escape z-ruby">\n</span>soundcloudamazon wishlist<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby"><span class="z-keyword z-operator z-range z-ruby">...</span>
</span></code></pre>
<p>It's all jumbled up in a bunch of <code>{</code>s and <code>"</code>, but this is definitely my blog!  You should see stuff that belongs to your own blog.</p>
<p>This is the result of the <code>client.info</code> command on which we prepended <code>puts</code>.  The <code>client.info</code> command just gets info about us!  This is cool and all, but let's make it a little more bot-like.</p>
<h3 id="posting-a-thing">Posting a thing</h3>
<p>Bots autopost stuff!  It's what they do best.  So lets implement the same functionality.</p>
<p>Open up your <code>tumblr_bot.rb</code> file, and delete the line we just edited:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-support z-function z-builtin z-ruby">puts</span> client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>info 
</span></code></pre>
<p>We're going to replace it with some new commands.  Copy and paste the following, and add it to the end of your file:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>text<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>YOUR_SUBBLOG_HERE<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">title<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Jello World<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">body<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>I am the jello maestro.<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span></code></pre>
<p>This will make our entire file look like this:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Authenticate via OAuth
</span></span><span class="z-source z-ruby">client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby"><span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Make the request
</span></span><span class="z-source z-ruby">client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>text<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>YOUR_SUBBLOG_HERE<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">title<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Jello World<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">body<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>I am the jello maestro.<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span></code></pre>
<p>So what does it all mean?</p>
<p><strong>client:</strong> This is something called a <code>variable</code> in programming.  Basically, it takes the easy-to-remember word <code>client</code> and sets it to the value of a big long <code>Tumblr</code> code that we can easily use later.</p>
<p><strong>client.text:</strong> The Tumblr variable <code>client</code> we stored beforehand as a bunch of nifty functions we can use by appending a <code>.</code>.  The <code>text</code> function allows us to create a text post, believe it or not.</p>
<p><strong>all that stuff after the client.text thing:</strong> The data after our <code>client.text</code> thing are just parameters (or settings) for the <code>.text</code> function.  These parameters are surrounded in parenthesis, and are separated by commas.  Here, we're setting the blog we want to post to, then the title of our post, and then the body text of our post.  Note that you HAVE to own the blog or subblog you post to.  Don't try to post with the <code>staff</code> account, it won't work (probably).</p>
<p>Alright!  Let's go ahead and run our code.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ruby</span></span><span class="z-meta z-function-call z-arguments z-shell"> ./lib/tumblr_bot.rb</span>
</span></code></pre>
<p>And... Nothing?  Well, we didn't <code>puts</code> anything out to the console, so the program should just run and quit when it finished. But let's visit the blog name we provided in the <code>client.text</code> function.  With any luck, it should look like this!</p>
 <div class="tumblr-post" data-href="https://embed.tumblr.com/embed/post/p0Y_HvspfCAUfl2VaRTZ2Q/147782490324" data-did="bc2b8a25d2c3825549694d9cdf25d866b3ddbd4f"><a href="http://doomybottest.tumblr.com/post/147782490324/jello-world">http://doomybottest.tumblr.com/post/147782490324/jello-world</a></div>  <script async src="https://secure.assets.tumblr.com/post.js"></script>
<p>Nice!  We just posted some stuff from a script we wrote.  But we can make it even <em>cooler</em>.</p>
<h3 id="making-our-bot-post-things-that-make-our-mom-worry-that-we-re-doing-illegal-drugs">Making our Bot Post Things That Make our Mom Worry that We're Doing Illegal Drugs</h3>
<p>Let's create something fun - a bot that defines a real-world object, and then assigns an alignment to that object.
We're going to add a few lines of code.  Here's what the file will look like:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Authenticate via OAuth
</span></span><span class="z-source z-ruby">client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">  <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby"><span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">alignments <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Lawful Good<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span><span class="z-source z-ruby">                <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Neutral Good<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span><span class="z-source z-ruby">                <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Chaotic Good<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span><span class="z-source z-ruby">                <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Lawful Neutral<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>True Neutral<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Chaotic Neutral<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Lawful Evil<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Neutral Evil<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Chaotic Evil<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span> <span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">adjectives <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Cool<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Gamer<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Doctor<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Pathetic<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">nouns <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Boy<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Pineapple Ham<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Child<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Gluestick<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Muffin<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">sentence <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">alignments<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">: </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">adjectives<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby"> </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">nouns<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">.<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Make the request
</span></span><span class="z-source z-ruby">client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>text<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>doomybottest<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">title<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> sentence<span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span></code></pre>
<p>It looks like a lot of stuff, but it's not too hard!  We have four basic variables - <code>alignments</code>, <code>adjectives</code>, <code>nouns</code>, and <code>sentence</code>.</p>
<ul>
<li>
<p>The <code>alignments</code> variable holds all the possibilities in the <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Alignment_(Dungeons_%26_Dragons)">alignments chart</a>.</p>
</li>
<li>
<p>The <code>adjectives</code> variable holds a list of, well, adjectives.  You can fill these in with whatever you want.  It doesn't strictly have to be adjectives, but try to choose items that <em>sort of</em> make sense given the context.</p>
</li>
<li>
<p>The <code>nouns</code> variable holds a list of words that we can place after an item from the <code>adjectives</code> list.</p>
</li>
<li>
<p>The <code>sentence</code> variable puts the <code>alignments</code>, <code>adjectives</code>, and <code>nouns</code> selections in one string.</p>
</li>
</ul>
<p>You might be wondering, what is this weird syntax?</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">thing <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>stuff<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>woah<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span></code></pre>
<p>First of all, we need to surround any text in quotes, like <code>"stuff"</code>.  If we just used plain-old <code>stuff</code>, ruby would think we're looking for a variable called <code>stuff</code>, when that doesn't exist!</p>
<p>Also when we have a variable that is going to hold more than one thing, we need to use something called an array.  To create an array, we surround everything in the array with square brackets, and separate items with a comma.</p>
<p>Secondly, what's up with the <code>sentence</code> variable?</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">sentence <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">alignments<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">: </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">adjectives<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby"> </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">nouns<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">.<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span></code></pre>
<p>First, when we call the <code>.sample</code> (a function of each array), Ruby nicely gets a random item from our array!  So, <code>nouns.sample</code> gets one random noun from our list of nouns, like <code>Pineapple Ham</code>.</p>
<p>So - remember when I said all text needs to be surrounded with quotes?  Well, that's true!  But what happens if we need to get the value of a variable?  Let's look at the following example:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">my_variable <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>really cool thing<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-support z-function z-builtin z-ruby">puts</span> my_variable
</span><span class="z-source z-ruby"><span class="z-support z-function z-builtin z-ruby">puts</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>my_variable<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span></code></pre>
<p>If we run this code, it'll give us the following output:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">really</span></span><span class="z-meta z-function-call z-arguments z-shell"> cool thing</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">my_variable</span></span>
</span></code></pre>
<p>That's because when we surround anything with quotes, Ruby will treat it as a literal value, instead of getting the variable value.  So, when we want to include a variable inside of quotes, we can use the funky <code>#{my_variable}</code> syntax.  This is helpful when we need to put extra words around our variable.</p>
<p>So this -</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">my_variable <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>really cool thing<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-support z-function z-builtin z-ruby">puts</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>I think that ice water is a </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">my_variable</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span></code></pre>
<p>Outputs this!</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">I</span></span><span class="z-meta z-function-call z-arguments z-shell"> think that ice water is a really cool thing</span>
</span></code></pre>
<p>The same thing is true for our <code>sentence</code> variable.  We're just adding extra symbols and punctuation so our post is formatted well. So this -</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">sentence <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">alignments<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">: </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">adjectives<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby"> </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">nouns<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">.<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>  
</span></code></pre>
<p>Has the possible output of this -</p>
 <div class="tumblr-post" data-href="https://embed.tumblr.com/embed/post/p0Y_HvspfCAUfl2VaRTZ2Q/147783813784" data-did="da39a3ee5e6b4b0d3255bfef95601890afd80709"><a href="http://doomybottest.tumblr.com/post/147783813784/neutral-evil-pathetic-boy">http://doomybottest.tumblr.com/post/147783813784/neutral-evil-pathetic-boy</a></div>  <script async src="https://secure.assets.tumblr.com/post.js"></script>
<h3 id="running-and-automating">Running and Automating</h3>
<p>So, if we take the code from above, and run it with our magic command, it'll create one blog for us, and then quit.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ruby</span></span><span class="z-meta z-function-call z-arguments z-shell"> ./lib/tumblr_bot.rb</span>
</span></code></pre>
<p>This isn't really useful for bots, which usually post once every few hours.  In order to automate this, we need to create a few changes to our <code>tumblr_bot.rb</code> file.  It should look like this.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> this part is different!
</span></span><span class="z-source z-ruby"><span class="z-meta z-function z-ruby"><span class="z-keyword z-control z-def z-ruby">def</span></span><span class="z-meta z-function z-ruby"> <span class="z-entity z-name z-function z-ruby">post_a_thing</span></span>
</span><span class="z-source z-ruby">    <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Authenticate via OAuth
</span></span><span class="z-source z-ruby">    client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">      <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">      <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">      <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">      <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby">    <span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    alignments <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Lawful Good<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Neutral Good<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Chaotic Good<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Lawful Neutral<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>True Neutral<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Chaotic Neutral<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Lawful Evil<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Neutral Evil<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Chaotic Evil<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span> <span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    adjectives <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Cool<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Gamer<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Doctor<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Pathetic<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">    nouns <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Boy<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Pineapple Ham<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Child<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Gluestick<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Muffin<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    sentence <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">alignments<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">: </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">adjectives<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby"> </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">nouns<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">.<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Make the request
</span></span><span class="z-source z-ruby">    client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>text<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>doomybottest<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">title<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> sentence<span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">end</span>
</span></code></pre>
<p>We've wrapped our program in something new.  This is called a function, and it basically labels a section of code so we can reuse it a bunch of times in different places.  The syntax for creating a new function is <code>def function_name</code> where <code>function_name</code> is the name that you want as a label.  This can be anything, but it shouldn't have spaces or begin with a number.  We mark the end of a function with the <code>end</code> keyword.</p>
<p>If we run our code, you'd notice that nothing happens.  That's because in order to run a function, we need to call it!  At the very end of our file (after the <code>end</code> line), add the following, and then re-run.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">post_a_thing
</span></code></pre>
<p>Cool, we've successfully called our <code>post_a_thing</code> function just by putting the name at the end of our file.  You should notice our bot posted something.  Go ahead and delete the <code>post_a_thing</code> line from your <code>tumblr_bot.rb</code> that you just made.</p>
<p>Time to create a new file!  Let's create a new file in our <code>bin</code> directory that we made earlier, and let's call it <code>bot.rb</code>.  Open the file in your editor, and add the following lines.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require_relative</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>../lib/tumblr_bot.rb<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">while</span> <span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-constant z-language z-ruby">true</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">    post_a_thing
</span><span class="z-source z-ruby">    <span class="z-support z-function z-builtin z-ruby">puts</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>posted a thing<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby">    <span class="z-support z-function z-builtin z-ruby">sleep</span> <span class="z-constant z-numeric z-integer z-decimal z-ruby">3600</span>
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">end</span>
</span></code></pre>
<p>Okay, there's a lot of new stuff here, so what does it do?  Well first, we have this line -</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require_relative</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>../lib/tumblr_bot.rb<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span></code></pre>
<p>That includes the file we were working on beforehand, <code>tumblr_bot.rb</code>.</p>
<p>We also wrapped all of our code in a <code>while</code> loop.  This makes it so our program doesn't exit after it posts one thing, it loops infinitely until we shut it down ourselves by exiting out of the terminal.</p>
<p>Inside of our <code>while</code> loop, we call the function we just made, <code>post_a_thing</code>.  We also use <code>puts</code> to tell us that we posted something successfully.  Finally, we call <code>sleep 3600</code> to delay the time until our bot makes a new post.  the <code>sleep</code> function takes in a number of seconds to wait - in this case, we wait an hour, as <code>60 minutes * 60 seconds = 3600</code>.</p>
<p>Finally, lets test our program -</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ruby</span></span><span class="z-meta z-function-call z-arguments z-shell"> ./bin/bot.rb</span>
</span></code></pre>
<p>With any luck, we should get a response that we <code>posted a thing</code>.  Cool.  And if we leave it running, it'll generate a new post every hour!</p>
<p><a href="creating-a-tumblr-bot-from-scratch.zip" class="button">Download the Whole Project</a></p>
<h3 id="conclusion">Conclusion</h3>
<p>If you liked this tutorial, let me know by sharing this post, or adding a comment below.  Let me know if I should make more bot-oriented tutorials, too.</p>
<h3 id="part-2">PART 2</h3>
<h3 id="end-goal">End Goal</h3>
<p>We're going to create a Tumblr bot that answers people's asks, similar to the infamous <a rel="noopener" target="_blank" href="http://bot.doomy.me/">doomybot</a>.  We're also going to respond contextually depending on the user's ask (although it will be done crudely).</p>
<h3 id="note-to-windows-users">Note to Windows Users</h3>
<p>Since August 2nd, 2016, Microsoft has released the Windows 10 anniversary edition.  As you might know, I don't provide per-tutorial support to Windows users.  However, in this new update, Microsoft released the Linux subsystem for Windows, which is a fancy way of saying you can use all of the commands I use in Linux on your Windows PC with no extra software.  At this point, I'm still fond of <a rel="noopener" target="_blank" href="https://cygwin.com/">Cygwin</a> or running *nix on a VM, but you might like Microsoft's solution better.  To enable this feature, search "Turn Windows Features on and off". Scroll down and check "Windows Subsystem for Linux" (If you can't find this option, you're not on the most recent version of Windows 10).  You'll need to restart your computer after this for the changes to take effect.  Once restarted, if you search "bash" from the start menu, you should get a bash terminal (basically the same terminal I use for these tutorials).</p>
<h3 id="getting-started-1">Getting Started</h3>
<p>Let's open our <code>tumblr_bot.rb</code> file.  It should look something like this:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby"><span class="z-meta z-function z-ruby"><span class="z-keyword z-control z-def z-ruby">def</span></span><span class="z-meta z-function z-ruby"> <span class="z-entity z-name z-function z-ruby">post_a_thing</span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Authenticate via OAuth
</span></span><span class="z-source z-ruby">    client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby">    <span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    alignments <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Lawful Good<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Neutral Good<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Chaotic Good<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Lawful Neutral<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>True Neutral<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Chaotic Neutral<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Lawful Evil<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Neutral Evil<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Chaotic Evil<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span> <span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    adjectives <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Cool<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Gamer<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Doctor<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Pathetic<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">    nouns <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Boy<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Pineapple Ham<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Child<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Gluestick<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Muffin<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    sentence <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">alignments<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">: </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">adjectives<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby"> </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">nouns<span class="z-punctuation z-accessor z-dot z-ruby">.</span>sample</span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">.<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Make the request
</span></span><span class="z-source z-ruby">    client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>text<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>your_blog<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">title<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> sentence<span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">end</span>
</span></code></pre>
<p>As a refresher, our interaction with Tumblr happens at the penultimate line: <code>client.text("your_blog", title: sentence)</code>.  We call the <code>text</code> function on our Tumblr <code>client</code> object, and create a text post.</p>
<p>Let's go ahead and delete some lines that we don't need right now.  (You can make a copy of the project if you want to save your old bot).  All we want to keep for now is the <code>client</code> creation.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby"><span class="z-meta z-function z-ruby"><span class="z-keyword z-control z-def z-ruby">def</span></span><span class="z-meta z-function z-ruby"> <span class="z-entity z-name z-function z-ruby">post_a_thing</span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Authenticate via OAuth
</span></span><span class="z-source z-ruby">    client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby">    <span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">    
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">end</span>
</span></code></pre>
<p>Great job, you just deleted <em>hours</em> of work.</p>
<h3 id="secure-your-stuff">Secure your Stuff</h3>
<p>If you're using Windows, don't worry about this part - but still read through it as code snippets in the future will reference this.</p>
<p>Anyways, right now we have this code:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>xxxxxxxxxxxxxxxxxxxx<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby">    <span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span></code></pre>
<p>Yours doesn't look like this, exactly.  You have a bunch of random looking characters where the X's are currently.  The thing is, those random characters contain extremely sensitive information.  If someone gained access to those strings, they could take over your Tumblr account.  You might be thinking, "Well, I just won't share this code with anyone!", and that's a valid thought.  However, it's best practice to store your super-secret password stuff in other places so you don't <a rel="noopener" target="_blank" href="https://github.com/search?q=oauth_token_secret&amp;type=Code&amp;utf8=%E2%9C%93">accidentally happen to upload it to a very public website</a>.</p>
<p>We can do this by using environment variables.  If you're using linux, open up the file located at <code>~/.bashrc</code>.  If you're on a Mac, the process seems to be slightly different.  I don't have a Mac I can test with, but I believe the equivalent file is <code>~/.bash_profile</code>.</p>
<blockquote>
<p>If you have a different shell installed like ZSH, your file will be located at <code>.zshrc</code> - but if you went out of your way to install a different shell, you probably know how to set variables already.</p>
</blockquote>
<p>Lets open the file, and scroll down to the bottom if there's already stuff written.  We're going to add the following four lines:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">export <span class="z-meta z-constant z-ruby"><span class="z-entity z-name z-constant z-ruby">CONSUMER_KEY</span></span><span class="z-keyword z-operator z-assignment z-ruby">=</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">export <span class="z-meta z-constant z-ruby"><span class="z-entity z-name z-constant z-ruby">CONSUMER_SECRET</span></span><span class="z-keyword z-operator z-assignment z-ruby">=</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">export <span class="z-meta z-constant z-ruby"><span class="z-entity z-name z-constant z-ruby">OAUTH_TOKEN</span></span><span class="z-keyword z-operator z-assignment z-ruby">=</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">export <span class="z-meta z-constant z-ruby"><span class="z-entity z-name z-constant z-ruby">OAUTH_TOKEN_SECRET</span></span><span class="z-keyword z-operator z-assignment z-ruby">=</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span></code></pre>
<p>You might notice that these four variables are the same as the ones defined within our Tumblr <code>client</code> in our <code>tumblr_bot.rb</code> file.  There is a correlation!  The variable names are the same, except they're all uppercase in our <code>~/.bashrc</code> (as is the convention).  Let's copy and paste the keys within the <code>'</code> characters from our <code>tumblr_bot.rb</code> file between the <code>"</code> characters in our <code>~/.bashrc</code> file.</p>
<p>Example:</p>
<p>If your <code>tumblr_bot.rb</code> file looks like this...</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>aaabbbccc<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby"><span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>gghhjj<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby"><span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>wweerr<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby"><span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>uuiioo<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span></code></pre>
<p>... the end of your <code>~/.bashrc</code> file should look like this:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-storage z-modifier z-shell">export</span> <span class="z-variable z-other z-readwrite z-assignment z-shell">CONSUMER_KEY</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>aaabbbccc<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-storage z-modifier z-shell">export</span> <span class="z-variable z-other z-readwrite z-assignment z-shell">CONSUMER_SECRET</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>gghhjj<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-storage z-modifier z-shell">export</span> <span class="z-variable z-other z-readwrite z-assignment z-shell">OAUTH_TOKEN</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>wweerr<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-storage z-modifier z-shell">export</span> <span class="z-variable z-other z-readwrite z-assignment z-shell">OAUTH_TOKEN_SECRET</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>uuiioo<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span>
</span></code></pre>
<p>Great!  We've stored our environment variables.  We need to reload our shell for the changes to take effect.  You can do this by shutting down your terminal and opening a new one, or by typing <code>source ~/.bashrc</code>.</p>
<p>We need to make one last change to our <code>tumblr_bot.rb</code> file in order for it to use the environment variables we just set.  We'll use a built-in Ruby feature that fetches environment variables with the following -</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>CONSUMER_KEY<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>CONSUMER_SECRET<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>OAUTH_TOKEN<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>OAUTH_TOKEN_SECRET<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span>
</span><span class="z-source z-ruby"><span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span></code></pre>
<p>That's it!  Now we can share our whole project folder with others.  Note that I'll be using the <code>ENV[]</code> syntax in examples below, so don't get confused if you didn't do this step, and my stuff looks different than yours.</p>
<h3 id="modifying-our-timing">Modifying our Timing</h3>
<p>Anyways, lets open up our <code>bot.rb</code> file in the <code>bin</code> folder.  It should look like this:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require_relative</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>../lib/tumblr_bot.rb<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">while</span> <span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-constant z-language z-ruby">true</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">    post_a_thing
</span><span class="z-source z-ruby">    <span class="z-support z-function z-builtin z-ruby">puts</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>posted a thing<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby">    <span class="z-support z-function z-builtin z-ruby">sleep</span> <span class="z-constant z-numeric z-integer z-decimal z-ruby">3600</span>
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">end</span>
</span></code></pre>
<p>Right now, we're posting a thing every <code>3600</code> seconds, which translates to 1 hour.  We're going to change this number down to about <code>60</code> seconds.</p>
<h4 id="so-why-the-change">So, why the change?</h4>
<p>In the previous version of our bot, it posted completely on its own, without any influence from the outside world.  However, in our new version, we're responding to asks.  Since Tumblr doesn't provide <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Webhook">webhooks</a> when someone sends an ask, we need to constantly check our inbox to see if we got any new messages.  Think of it like checking your email every minute.</p>
<h4 id="okay-so-why-60">Okay, so why <code>60</code>?</h4>
<p>60 seconds is admittedly an arbitrary number.  <code>61</code> will work just as much as <code>32</code>.  However, I recommend not using super-small numbers like <code>10</code> seconds.  This is because Tumblr would have to deal with your request every 10 seconds, which is <em>probably</em> against their terms of service.  Be respectful to the service you're using!</p>
<p>Anyways, our line should now read</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-support z-function z-builtin z-ruby">sleep</span> <span class="z-constant z-numeric z-integer z-decimal z-ruby">60</span>
</span></code></pre>
<h3 id="checking-for-asks">Checking for asks</h3>
<p>Okay, remember when I said to be respectful to the service you're using?  Well I'm going to be hypocritcal here and say that Tumblr's system for responding to asks via the API is plain <em>stupid</em>.  The feature isn't documented anywhere, and I had to reverse-engineer the official app to figure out what <a rel="noopener" target="_blank" href="http://stackoverflow.com/a/18768849/2584408">endpoints</a> were being called.</p>
<p>With that being said, I've made a little diagram of how our code flow is going to look.</p>
<p><img src="https://doomy.org/creating-a-tumblr-bot-from-scratch/tumblr-bot-diagram-01-01-01.png" alt="" /></p>
<p>We're getting all submissions.  This includes your entire inbox - submission posts and asks alike.  Although everything is mixed in together, we can check to make sure the submission is an ask before proceeding.  Weirdly enough, when you post an ask with Tumblr, you're editing the already-created post.  We need to edit the ask with the body text, along with changing the ask's state to "published".  This will take the ask out of our inbox and push it onto our blog.</p>
<p>Great, now that we have a basic understanding of what's going on, we can code it pretty easily.</p>
<h3 id="getting-asks-in-our-inbox">Getting asks in our Inbox</h3>
<p>This section isn't devoted on how to get fanmail, in case you were wondering.   But we will figure out what code-stuff we need to put in to make our bot read its inbox.</p>
<p>Navigate back to our <code>tumblr_bot.rb</code> file, and position your cursor right before the final <code>end</code>.  Add this line -</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">asks <span class="z-keyword z-operator z-assignment z-ruby">=</span> client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>submissions<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-variable z-other z-constant z-ruby">USERNAME</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">limit<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-constant z-numeric z-integer z-decimal z-ruby">3</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span></code></pre>
<p>You'll notice that our first parameter is the all-uppercase <code>USERNAME</code>.  This isn't a typo, and you shouldn't substitute your own blog name here.  This is what's called a constant.  Because we need to access the username of the blog we will post to often, its good to define it in one place so we can change one line of code as opposed to 20.  At the top of our file, right after <code>require 'tumblr_client'</code>, we're going to define this constant.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-constant z-ruby"><span class="z-entity z-name z-constant z-ruby">USERNAME</span></span> <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>doomybottest<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>       <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> or whatever your desired blog name is
</span></span></code></pre>
<p>You might also notice a new parameter, <code>limit: 3</code>.  This little bit of code lets us get 3 asks per inbox check.  That way we can respond to multiple messages in one go.</p>
<p>Let's also make one more temporary modification to our code by calling a <code>puts</code> on the <code>asks</code> variable, like so -</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">asks <span class="z-keyword z-operator z-assignment z-ruby">=</span> client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>submissions<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-variable z-other z-constant z-ruby">USERNAME</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">limit<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-constant z-numeric z-integer z-decimal z-ruby">3</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby"><span class="z-support z-function z-builtin z-ruby">puts</span> asks
</span></code></pre>
<p>Before we test our code, we need to make sure something is in our bot's askbox.  For testing purposes, lets send our bot a few asks.</p>
<p><img src="https://doomy.org/creating-a-tumblr-bot-from-scratch/Capture.png" alt="" /></p>
<p>Let's test our code.  Start a shell/command prompt in our project root folder, and type <code>ruby bin/bot.rb</code>.</p>
<blockquote>
<p>If you get a <code>dynamic constant assignment</code> error, check that your <code>USERNAME</code> constant is defined outside of the <code>post_a_thing</code> function.</p>
</blockquote>
<p>If all goes well, the code should run without error, and you should get a response that looks like this -</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-punctuation z-section z-scope z-ruby">{</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>posts<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-punctuation z-section z-scope z-ruby">{</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>blog_name<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>doomybottest<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>id<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-ruby">148370090189</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>post_url<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>https://www.tumblr.com/blog/doomybottest/submissions?148370090189<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>slug<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>will-i-ever-find-love<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>type<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>answer<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>date<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>2016-08-02 23:09:09 GMT<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>timestamp<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-ruby">1470179349</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>state<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>submission<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>format<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>html<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>reblog_key<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>eneADWgq<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>tags<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-punctuation z-section z-array z-ruby">]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>short_url<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>https://tmblr.co/ZrmIvi2ABY_ZD<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>summary<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Will I ever find love?<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>recommended_source<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-language z-ruby">nil</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>recommended_color<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-language z-ruby">nil</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>followed<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-language z-ruby">true</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>highlighted<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-punctuation z-section z-array z-ruby">]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>liked<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-language z-ruby">false</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>note_count<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-ruby">0</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>asking_name<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>doomy<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>asking_url<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>http://doomy.me/<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>question<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Will I ever find love?<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>answer<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>reblog<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-punctuation z-section z-scope z-ruby">{</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>tree_html<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>comment<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>trail<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-punctuation z-section z-array z-ruby">]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>can_send_in_message<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-language z-ruby">false</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>can_reply<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span><span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span><span class="z-constant z-language z-ruby">true</span><span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> 
</span></code></pre>
<p>Yikes - that's a lot of... stuff.  What we're looking at is called a hash, and it contains all of the information a single ask possesses.  Although it's a little difficult to explain without understanding <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/Serialization">serialization</a>, all we need to know is that all of our asks are stored in an array called <code>posts</code>.</p>
<p>So, let's modify our <code>client.submissions</code> line to get all <code>posts</code>.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">asks <span class="z-keyword z-operator z-assignment z-ruby">=</span> client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>submissions<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-variable z-other z-constant z-ruby">USERNAME</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">limit<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-constant z-numeric z-integer z-decimal z-ruby">3</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span><span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>posts<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span></code></pre>
<p>Now that we have an array of asks, we need to loop over each one (since we're getting 3 at a time).</p>
<p>Let's remove our <code>puts asks</code> line, and write this in it's place:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">asks<span class="z-punctuation z-accessor z-dot z-ruby">.</span>each <span class="z-keyword z-control z-start-block z-ruby">do</span> <span class="z-meta z-block z-parameters z-ruby"><span class="z-punctuation z-definition z-parameters z-begin z-ruby">|</span></span><span class="z-meta z-block z-parameters z-ruby"><span class="z-variable z-parameter z-ruby">ask</span><span class="z-meta z-block z-parameters z-ruby"><span class="z-punctuation z-definition z-parameters z-end z-ruby">|</span></span></span>
</span><span class="z-source z-ruby">    <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> only answer asks (don&#39;t worry about submissions or fanmail)
</span></span><span class="z-source z-ruby">    <span class="z-keyword z-control z-ruby">if</span> ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>type<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span> <span class="z-keyword z-operator z-comparison z-ruby">!=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>answer<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby">        <span class="z-keyword z-control z-pseudo-method z-ruby">return</span>
</span><span class="z-source z-ruby">    <span class="z-keyword z-control z-ruby">end</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> temporarily print out our question
</span></span><span class="z-source z-ruby">    <span class="z-support z-function z-builtin z-ruby">puts</span> ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>question<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">end</span>   
</span></code></pre>
<p>In completion, our code should currently look like this:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby"><span class="z-meta z-constant z-ruby"><span class="z-entity z-name z-constant z-ruby">USERNAME</span></span> <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>doomybottest<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-meta z-function z-ruby"><span class="z-keyword z-control z-def z-ruby">def</span></span><span class="z-meta z-function z-ruby"> <span class="z-entity z-name z-function z-ruby">post_a_thing</span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Authenticate via OAuth
</span></span><span class="z-source z-ruby">    client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>CONSUMER_KEY<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>CONSUMER_SECRET<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>OAUTH_TOKEN<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>OAUTH_TOKEN_SECRET<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span>
</span><span class="z-source z-ruby">    <span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    asks <span class="z-keyword z-operator z-assignment z-ruby">=</span> client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>submissions<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-variable z-other z-constant z-ruby">USERNAME</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">limit<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-constant z-numeric z-integer z-decimal z-ruby">3</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span><span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>posts<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    asks<span class="z-punctuation z-accessor z-dot z-ruby">.</span>each <span class="z-keyword z-control z-start-block z-ruby">do</span> <span class="z-meta z-block z-parameters z-ruby"><span class="z-punctuation z-definition z-parameters z-begin z-ruby">|</span></span><span class="z-meta z-block z-parameters z-ruby"><span class="z-variable z-parameter z-ruby">ask</span><span class="z-meta z-block z-parameters z-ruby"><span class="z-punctuation z-definition z-parameters z-end z-ruby">|</span></span></span>
</span><span class="z-source z-ruby">        <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> only answer asks (don&#39;t worry about submissions or fanmail)
</span></span><span class="z-source z-ruby">        <span class="z-keyword z-control z-ruby">if</span> ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>type<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span> <span class="z-keyword z-operator z-comparison z-ruby">!=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>answer<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby">            <span class="z-keyword z-control z-pseudo-method z-ruby">return</span>
</span><span class="z-source z-ruby">        <span class="z-keyword z-control z-ruby">end</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">        <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> temporarily print out our question
</span></span><span class="z-source z-ruby">        <span class="z-support z-function z-builtin z-ruby">puts</span> ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>question<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">    <span class="z-keyword z-control z-ruby">end</span>   
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">end</span>
</span></code></pre>
<p>Let's go ahead and run our code again with <code>ruby bin/bot.rb</code>.  If all goes according to plan, we should get the text of the <code>question</code> we sent!</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ruby</span></span><span class="z-meta z-function-call z-arguments z-shell"> bin/bot.rb</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> Will <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">I</span></span><span class="z-meta z-function-call z-arguments z-shell"> ever find love<span class="z-keyword z-operator z-regexp z-quantifier z-shell">?</span></span>
</span></code></pre>
<p>Great, we completed step one on our chart.</p>
<h3 id="steps-2-3-and-4">Steps 2, 3 and 4.</h3>
<p>We can read asks that we got, but we can't really do anything with them.  Let's implement that now.  Let's replace the <code>puts ask['question']</code> line with the following code:</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">response <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>wow neato<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">tags <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>cool, stuff, vaporsoft<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>edit<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-variable z-other z-constant z-ruby">USERNAME</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby">id<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>id<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby">answer<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> response<span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby">state<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>published<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby">tags<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> tags<span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span></code></pre>
<p>By calling <code>client.edit</code>, we do a few things to our ask.  We set its response to the variable <code>response</code> (creative!), set its tags to a variable called <code>tags</code>, and its state to <code>published</code>.  Let's go ahead and run our code with <code>ruby bin/bot.rb</code>.</p>
<p>After our code tells us it <code>posted a thing</code>, let's check our blog.  We should see our ask published!</p>
 <div class="tumblr-post" data-href="https://embed.tumblr.com/embed/post/p0Y_HvspfCAUfl2VaRTZ2Q/148370955524" data-did="da39a3ee5e6b4b0d3255bfef95601890afd80709"><a href="http://doomybottest.tumblr.com/post/148370955524/will-i-ever-find-love">http://doomybottest.tumblr.com/post/148370955524/will-i-ever-find-love</a></div>  <script async src="https://secure.assets.tumblr.com/post.js"></script>
<p>This is great and all, but answering "wow neato" to every ask isn't all that exciting, unless we have the url "passiveagressivebot" (which is up for grabs at the time of writing this, in case you were wondering).</p>
<p>Let's make our bot a little more contextual by greeting our askee by username, and then scrambling the question.  We can do this by editing our <code>response</code> variable.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby">response <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Hi </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>asking_name<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span></span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">, </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>question<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span>split<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span> <span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span>shuffle<span class="z-punctuation z-accessor z-dot z-ruby">.</span>join<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span> <span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span></span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span></code></pre>
<p>Lets deconstruct this very ruby statement -</p>
<p><code>ask['asking_name']</code> - gets us the blog name of the askee</p>
<p><code>ask['question'].split(' ').shuffle.join(' ')</code> - gets us the question asked, and then mixes all the words around</p>
<p>Cool.  Try running your bot with <code>ruby bin/bot.rb</code> after sending your bot an ask.</p>
 <div class="tumblr-post" data-href="https://embed.tumblr.com/embed/post/p0Y_HvspfCAUfl2VaRTZ2Q/148371473469" data-did="da39a3ee5e6b4b0d3255bfef95601890afd80709"><a href="http://doomybottest.tumblr.com/post/148371473469/hey-youre-a-big-idiot">http://doomybottest.tumblr.com/post/148371473469/hey-youre-a-big-idiot</a></div>  <script async src="https://secure.assets.tumblr.com/post.js"></script>
<p>And... it works!  Fantastic.  If you're having trouble, here's the code in full.</p>
<pre data-lang="ruby" class="language-ruby z-code"><code class="language-ruby" data-lang="ruby"><span class="z-source z-ruby"><span class="z-meta z-require z-ruby"><span class="z-keyword z-other z-special-method z-ruby">require</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>tumblr_client<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span></span>
</span><span class="z-source z-ruby"><span class="z-meta z-constant z-ruby"><span class="z-entity z-name z-constant z-ruby">USERNAME</span></span> <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>doomybottest<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-meta z-function z-ruby"><span class="z-keyword z-control z-def z-ruby">def</span></span><span class="z-meta z-function z-ruby"> <span class="z-entity z-name z-function z-ruby">post_a_thing</span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> Authenticate via OAuth
</span></span><span class="z-source z-ruby">    client <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-support z-class z-ruby">Tumblr</span><span class="z-punctuation z-accessor z-double-colon z-ruby">::</span><span class="z-support z-class z-ruby">Client</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span><span class="z-keyword z-other z-special-method z-ruby">new</span><span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-punctuation z-section z-scope z-ruby">{</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_key</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>CONSUMER_KEY<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>consumer_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>CONSUMER_SECRET<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>OAUTH_TOKEN<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">    <span class="z-constant z-other z-symbol z-ruby"><span class="z-punctuation z-definition z-constant z-ruby">:</span>oauth_token_secret</span> <span class="z-punctuation z-separator z-key-value z-ruby">=&gt;</span> <span class="z-meta z-environment-variable z-ruby"><span class="z-variable z-other z-constant z-ruby">ENV</span>[<span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>OAUTH_TOKEN_SECRET<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>]</span>
</span><span class="z-source z-ruby">    <span class="z-punctuation z-section z-scope z-ruby">}</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    asks <span class="z-keyword z-operator z-assignment z-ruby">=</span> client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>submissions<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-variable z-other z-constant z-ruby">USERNAME</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span> <span class="z-constant z-other z-symbol z-ruby">limit<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-constant z-numeric z-integer z-decimal z-ruby">3</span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span><span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>posts<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    asks<span class="z-punctuation z-accessor z-dot z-ruby">.</span>each <span class="z-keyword z-control z-start-block z-ruby">do</span> <span class="z-meta z-block z-parameters z-ruby"><span class="z-punctuation z-definition z-parameters z-begin z-ruby">|</span></span><span class="z-meta z-block z-parameters z-ruby"><span class="z-variable z-parameter z-ruby">ask</span><span class="z-meta z-block z-parameters z-ruby"><span class="z-punctuation z-definition z-parameters z-end z-ruby">|</span></span></span>
</span><span class="z-source z-ruby">        <span class="z-comment z-line z-number-sign z-ruby"><span class="z-punctuation z-definition z-comment z-ruby">#</span> only answer asks (don&#39;t worry about submissions or fanmail)
</span></span><span class="z-source z-ruby">        <span class="z-keyword z-control z-ruby">if</span> ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>type<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span> <span class="z-keyword z-operator z-comparison z-ruby">!=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>answer<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span>
</span><span class="z-source z-ruby">            <span class="z-keyword z-control z-pseudo-method z-ruby">return</span>
</span><span class="z-source z-ruby">        <span class="z-keyword z-control z-ruby">end</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">        response <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>Hi </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>asking_name<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span></span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby">, </span><span class="z-meta z-interpolation z-ruby"><span class="z-punctuation z-section z-interpolation z-begin z-ruby">#{</span></span><span class="z-meta z-interpolation z-ruby"><span class="z-source z-ruby z-embedded z-ruby">ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>question<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span>split<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span> <span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span><span class="z-punctuation z-accessor z-dot z-ruby">.</span>shuffle<span class="z-punctuation z-accessor z-dot z-ruby">.</span>join<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span> <span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-definition z-group z-end z-ruby">)</span></span><span class="z-punctuation z-section z-interpolation z-end z-ruby">}</span></span><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">        tags <span class="z-keyword z-operator z-assignment z-ruby">=</span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-double z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&quot;</span>cool, stuff, vaporsoft<span class="z-punctuation z-definition z-string z-end z-ruby">&quot;</span></span></span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">        client<span class="z-punctuation z-accessor z-dot z-ruby">.</span>edit<span class="z-punctuation z-definition z-group z-begin z-ruby">(</span><span class="z-variable z-other z-constant z-ruby">USERNAME</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-constant z-other z-symbol z-ruby">id<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> ask<span class="z-punctuation z-section z-array z-ruby">[</span><span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>id<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-section z-array z-ruby">]</span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-constant z-other z-symbol z-ruby">answer<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> response<span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-constant z-other z-symbol z-ruby">state<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> <span class="z-meta z-string z-ruby"><span class="z-string z-quoted z-single z-ruby"><span class="z-punctuation z-definition z-string z-begin z-ruby">&#39;</span>published<span class="z-punctuation z-definition z-string z-end z-ruby">&#39;</span></span></span><span class="z-punctuation z-separator z-sequence z-ruby">,</span>
</span><span class="z-source z-ruby">                    <span class="z-constant z-other z-symbol z-ruby">tags<span class="z-punctuation z-definition z-constant z-ruby">:</span></span> tags<span class="z-punctuation z-definition z-group z-end z-ruby">)</span>
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby">    <span class="z-keyword z-control z-ruby">end</span>   
</span><span class="z-source z-ruby">
</span><span class="z-source z-ruby"><span class="z-keyword z-control z-ruby">end</span>
</span></code></pre>
<h3 id="modifying-for-our-own-uses">Modifying for our own uses</h3>
<p>We have a great base project for building more complicated bots.  All we need to do is modify the <code>response</code> and <code>tags</code> variables for totally different responses.  Ruby is really good at manipulating strings of text, so go out and explore!</p>
<p><a href="publishing_asks_with_your_tumblr_bot.zip" class="button">Download the Whole Project</a></p>
<h3 id="conclusion-1">Conclusion</h3>
<p>If you liked this tutorial, let me know by sharing this post, or adding a comment below.  Let me know if I should make more bot-oriented tutorials, too.  If you're feeling awfully nice, you can donate to me.</p>

			


		</article>
	</section>
	
	<div id="cusdis">
		
				<div id="cusdis_thread"
				style="background: none !important;"
				data-host="https://cusdis.com"
				data-app-id="aaae44f5-19b5-419e-88d9-9522e2617ece"
				data-page-id="https:&#x2F;&#x2F;doomy.org&#x2F;creating-a-tumblr-bot-from-scratch&#x2F;"
				data-page-url="creating-a-tumblr-bot-from-scratch"
				data-page-title="Creating a Tumblr Bot from Scratch"
				data-theme="auto"
				></div>
				<script async defer src="/js/cusdis.es.js"></script>
		
	</div>
</div>


        <footer>
            
            <p>
                Feather theme by <a href="https://doomy.org">doomy</a>&nbsp;&nbsp;-&nbsp;&nbsp; Built with <a
                    href="https://getzola.org">Zola</a>
            </p>
            
        </footer>
    </div>
    
    <script>
        function change_theme(theme) {
            if (theme == "light") {
                document.body.classList.remove("dark");
                document.body.classList.add("light");
                document.querySelector('#syntax').href = '/syntax-theme-light.css';
            } else if (theme == "dark") {
                document.body.classList.add("dark");
                document.body.classList.remove("light");
                document.querySelector('#syntax').href = '/syntax-theme-dark.css';
            }
            localStorage.setItem("theme", theme);
        }

        window.addEventListener('load', () => {
            // Select the button
            const theme = (function () {
                const stored = localStorage.getItem("theme");
                if (stored == "null") {
                    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
                        return "dark";
                    } else {
                        return "light";
                    }
                } else {
                    return stored;
                }
            })();

            change_theme(theme);

            // Listen for a click on the button
            document.querySelector(".theme-switcher").addEventListener("click", function () {
                if (!document.body.classList.contains("dark")) {
                    change_theme("dark");
                } else {
                    change_theme("light");
                }
            });

        });
    </script>
    
    <script src="/js/footnote.js"></script>
</body>

</html>
